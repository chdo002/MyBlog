---
title: 其他
date: 2018-04-16 11:41:16
tags:
---

## iTunes 提交没有版本
### 2018-04-16 11:41:16

提交到iTunes connect 上看不到版本，可能是某些隐私权限你用到了，但是没有在info.plist中说明，比如说蓝牙，这也不会导致测试环境下的崩溃，但生产下就不行了


## GCD的线程数目

GCD会维护一个线程池，而线程池中的线程数目是有上限的，具体数字在64位系统上是64，32位系统还没有机会测试

具体的影响，如下代码

```
- (void)viewDidLoad {
    [super viewDidLoad];
    
    dispatch_queue_t quq = dispatch_queue_create("affa", DISPATCH_QUEUE_CONCURRENT);
    int taskAmount = 64;
    for (int i = 0; i<taskAmount; i++) {
        dispatch_async(quq, ^{
            sleep(2);
            NSLog(@"--%@",[NSThread currentThread]);
        });
    }
}
```

直觉上，因为用了dispatch_async，所以应该不会卡主线程，实际上，因为dispatch_async用光了64条线程，其中包含了主线程，所以界面就会卡2秒。

跟进一半，如果这里的taskAmount是64的n(n>=1，n为正整数)倍，那么卡顿时间也会变成2*n秒时间。


## 泛型实例化
OC中的泛型是所谓的轻量化泛型，暂时还不知道怎么实现泛型实例化，swift中的实现记录在下面
```

func testFunc<T: NSObject>(cls:T) -> T {
    let obj = T()
    return obj
}

testFunc(cls: NSString())

```


## extern static const
https://www.jianshu.com/p/2fd58ed2cf55
https://www.jianshu.com/p/3fa703e80720


## cocoapods
https://www.jianshu.com/p/89605e02bf18
